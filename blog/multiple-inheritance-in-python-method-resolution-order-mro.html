<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>Multiple Inheritance in Python: Method Resolution Order (MRO)</title><meta name="next-head-count" content="3"/><link rel="preload" href="/_next/static/css/116a9d0d7bbcb7ff8fb6.css" as="style"/><link rel="stylesheet" href="/_next/static/css/116a9d0d7bbcb7ff8fb6.css" data-n-p=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/main-8ee885be9144a7f7660c.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.ae55bf7e6c20d673e3c3.js" as="script"/><link rel="preload" href="/_next/static/chunks/9901a4d1788027dab72cbf00d422303efc2f9507.cbdcd08772445030d7e0.js" as="script"/><link rel="preload" href="/_next/static/chunks/b616387b11ed82049e742f7310fd2d5dea442ccd.43128fe35357df1292f1.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-070a0e11d78bef388f14.js" as="script"/><link rel="preload" href="/_next/static/chunks/f55490c27d84c973f151130575d86126183b0b6b.ebd6a76629b55763e6ec.js" as="script"/><link rel="preload" href="/_next/static/chunks/14e8b4443f853547963f3fff4f6d87edb6a6aabe.e2c835c2464e35d3e77a.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/blog/%5Bslug%5D-fd66ffec7f8f72b75d84.js" as="script"/><style data-styled="" data-styled-version="5.2.1">html{font-size:16px;min-height:100vh;}/*!sc*/
html,body{height:100%;margin:0;padding:0;}/*!sc*/
@media only screen and (max-device-width:480px){html{font-size:14px;}}/*!sc*/
body{background-color:#3e4d4f;color:white;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto","Oxygen", "Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue", sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;}/*!sc*/
*{box-sizing:border-box;}/*!sc*/
h1,h2,h3,h4,h5,h6{font-weight:400;}/*!sc*/
code{font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;}/*!sc*/
data-styled.g1[id="sc-global-bYaKAX1"]{content:"sc-global-bYaKAX1,"}/*!sc*/
.kuhBS{background-color:#272822;font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;padding:0.2em 0.4em;font-size:0.8em;border-radius:0.3em;color:#ae81ff;-webkit-text-decoration:none;text-decoration:none;}/*!sc*/
data-styled.g2[id="A__A_-sc-14fqd0c-0"]{content:"kuhBS,"}/*!sc*/
.frqqeo{margin:5px;}/*!sc*/
data-styled.g3[id="Navigation___StyledLink-sc-10fffhi-0"]{content:"frqqeo,"}/*!sc*/
.fBDDkv{margin:5px;}/*!sc*/
data-styled.g4[id="Navigation___StyledLink2-sc-10fffhi-1"]{content:"fBDDkv,"}/*!sc*/
.gwcSSF{margin:5px;}/*!sc*/
data-styled.g5[id="Navigation___StyledLink3-sc-10fffhi-2"]{content:"gwcSSF,"}/*!sc*/
.hmTGJm{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;font-size:1.2em;-webkit-text-decoration:none;text-decoration:none;}/*!sc*/
data-styled.g6[id="Navigation__Nav-sc-10fffhi-3"]{content:"hmTGJm,"}/*!sc*/
.kjdbIE{margin:5px;color:white;fontWeight:500;}/*!sc*/
data-styled.g7[id="Navigation___StyledSpan-sc-10fffhi-4"]{content:"kjdbIE,"}/*!sc*/
.iQzkww{background-color:#272822;font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;padding:0.2em 0.4em;font-size:0.8em;border-radius:0.3em;}/*!sc*/
data-styled.g8[id="Code-sc-1amjnp4-0"]{content:"iQzkww,"}/*!sc*/
.fOgHwq{margin-left:auto !important;margin-right:auto !important;}/*!sc*/
data-styled.g9[id="TreeToJSX__Pre-sc-1taxolb-0"]{content:"fOgHwq,"}/*!sc*/
.hmkitq{font-size:1.2em;line-height:1.4em;-webkit-letter-spacing:0.01em;-moz-letter-spacing:0.01em;-ms-letter-spacing:0.01em;letter-spacing:0.01em;overflow-wrap:break-word;padding:1.1em;margin:0 auto;}/*!sc*/
.hmkitq > *:not(pre){max-width:850px;margin-left:auto;margin-right:auto;}/*!sc*/
.hmkitq > pre{width:93vw;max-width:1100px;}/*!sc*/
data-styled.g13[id="slug__BlogContentContainer-sc-8mhdoa-0"]{content:"hmkitq,"}/*!sc*/
</style></head><body><div id="__next"><div><nav class="Navigation__Nav-sc-10fffhi-3 hmTGJm"><a href="/" target="_self" rel="noopener noreferrer" class="A__A_-sc-14fqd0c-0 kuhBS Navigation___StyledLink-sc-10fffhi-0 frqqeo">/</a><span class="Navigation___StyledSpan-sc-10fffhi-4 kjdbIE">&gt;</span><a href="/blog" target="_self" rel="noopener noreferrer" class="A__A_-sc-14fqd0c-0 kuhBS Navigation___StyledLink2-sc-10fffhi-1 fBDDkv">blog</a><span class="Navigation___StyledSpan-sc-10fffhi-4 kjdbIE">&gt;</span><a href="/blog/multiple-inheritance-in-python-method-resolution-order-mro" target="_self" rel="noopener noreferrer" class="A__A_-sc-14fqd0c-0 kuhBS Navigation___StyledLink3-sc-10fffhi-2 gwcSSF">multiple-inheritance-in-python-method-resolution-order-mro</a></nav><main><article><h1 style="text-align:center;margin:2em;margin-bottom:0.2em">Multiple Inheritance in Python: Method Resolution Order (MRO)</h1><h3 style="font-size:0.7em;margin:0;text-align:center">August 30, 2019</h3><div class="slug__BlogContentContainer-sc-8mhdoa-0 hmkitq"><pre class="TreeToJSX__Pre-sc-1taxolb-0 fOgHwq  language-python"><code class="  language-python"><span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'A'</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">B</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'B'</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">C</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'C'</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">D</span><span class="token punctuation">(</span>B<span class="token punctuation">,</span> C<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'D'</span><span class="token punctuation">)</span>

d <span class="token operator">=</span> D<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>When class <code class="Code-sc-1amjnp4-0 iQzkww">D</code> is instantiated, what do you think will be the order of the print statements?</p><p>Python&#x27;s way of determining the order in which multiple inheritance is resolved is called the Method Resolution Order (MRO). The answer to the question is:</p><pre class="TreeToJSX__Pre-sc-1taxolb-0 fOgHwq  language-python"><code class="  language-python">A
C
B
D</code></pre><p>Lets see why.</p><pre class="TreeToJSX__Pre-sc-1taxolb-0 fOgHwq  language-python"><code class="  language-python"><span class="token keyword">class</span> <span class="token class-name">D</span><span class="token punctuation">(</span>B<span class="token punctuation">,</span> C<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'D'</span><span class="token punctuation">)</span></code></pre><p>We begin in class D, which inherits from both B and C. Here, Python resolves from right to left. What this means is that the first class listed takes precedence. If both class B and C defined a method, class B&#x27;s version would be the one inherited by class D. Resolving right to left, <code class="Code-sc-1amjnp4-0 iQzkww">B &lt;- C</code>, B&#x27;s definition of the method would overwrite C&#x27;s.</p><p>Since Python resolves the inheritance of class <code class="Code-sc-1amjnp4-0 iQzkww">C</code> first, we jump into <code class="Code-sc-1amjnp4-0 iQzkww">C.__init__</code>.</p><pre class="TreeToJSX__Pre-sc-1taxolb-0 fOgHwq  language-python"><code class="  language-python"><span class="token keyword">class</span> <span class="token class-name">C</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'C'</span><span class="token punctuation">)</span></code></pre><p>Before even reaching our print statement, we get redirected to <code class="Code-sc-1amjnp4-0 iQzkww">A.__init__</code>. Once in class A, there&#x27;s nothing left to inherit, so we reach our first print statement <code class="Code-sc-1amjnp4-0 iQzkww">print(&#x27;A&#x27;)</code>. After that, we go back up the chain that got us to A. Next we hit <code class="Code-sc-1amjnp4-0 iQzkww">print(&#x27;C&#x27;)</code>, then finally we return to class D.</p><pre class="TreeToJSX__Pre-sc-1taxolb-0 fOgHwq  language-python"><code class="  language-python"><span class="token keyword">class</span> <span class="token class-name">D</span><span class="token punctuation">(</span>B<span class="token punctuation">,</span> C<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'D'</span><span class="token punctuation">)</span></code></pre><p>We&#x27;re still not done with <code class="Code-sc-1amjnp4-0 iQzkww">super().__init()</code>. We&#x27;ve resolved class C, now we&#x27;re onto B.</p><pre class="TreeToJSX__Pre-sc-1taxolb-0 fOgHwq  language-python"><code class="  language-python"><span class="token keyword">class</span> <span class="token class-name">B</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'B'</span><span class="token punctuation">)</span></code></pre><p>Since B inherits from class A, don&#x27;t we go back there again? Python keeps track of the order of inheritance, and disregards duplicate entries. We have already visited class A during our inheritance journey, so Python will skip going there again altogether. This is where Method Resolution Order comes in. <code class="Code-sc-1amjnp4-0 iQzkww">__mro__</code> is an attribute that can be called on a class (not an instance). Lets see what it returns:</p><pre class="TreeToJSX__Pre-sc-1taxolb-0 fOgHwq  language-python"><code class="  language-python"><span class="token keyword">print</span><span class="token punctuation">(</span>D<span class="token punctuation">.</span>__mro__<span class="token punctuation">)</span>
<span class="token comment"># (&lt;class '__main__.D'>, &lt;class '__main__.B'>, &lt;class '__main__.C'>, &lt;class '__main__.A'>, &lt;class 'object'>)</span></code></pre><p>Look at that, the order of our print statements was <code class="Code-sc-1amjnp4-0 iQzkww">A, C, B, D</code>. Python begins with the class &#x27;object&#x27;, and builds on it with each level of inheritance. <code class="Code-sc-1amjnp4-0 iQzkww">__mro__</code> and the order of our print statements are the same but reversed.</p><p>Finishing our example, we skip going to class A inherited by B, since we already visited A when it was inherited by C. We hit <code class="Code-sc-1amjnp4-0 iQzkww">print(&#x27;B&#x27;)</code>, then finally return to class D and hit <code class="Code-sc-1amjnp4-0 iQzkww">print(&#x27;D&#x27;)</code>.</p></div></article></main></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"Multiple Inheritance in Python: Method Resolution Order (MRO)","date":"2019-08-30T16:08:56.000Z","content":"\n```python\nclass A:\n    def __init__(self):\n        print('A')\n\nclass B(A):\n    def __init__(self):\n        super().__init__()\n        print('B')\n\nclass C(A):\n    def __init__(self):\n        super().__init__()\n        print('C')\n\nclass D(B, C):\n    def __init__(self):\n        super().__init__()\n        print('D')\n\nd = D()\n```\n\nWhen class `D` is instantiated, what do you think will be the order of the print statements?\n\nPython's way of determining the order in which multiple inheritance is resolved is called the Method Resolution Order (MRO). The answer to the question is:\n\n```python\nA\nC\nB\nD\n```\n\nLets see why.\n\n```python\nclass D(B, C):\n    def __init__(self):\n        super().__init__()\n        print('D')\n```\n\nWe begin in class D, which inherits from both B and C. Here, Python resolves from right to left. What this means is that the first class listed takes precedence. If both class B and C defined a method, class B's version would be the one inherited by class D. Resolving right to left, `B \u003c- C`, B's definition of the method would overwrite C's.\n\nSince Python resolves the inheritance of class `C` first, we jump into `C.__init__`.\n\n```python\nclass C(A):\n    def __init__(self):\n        super().__init__()\n        print('C')\n```\n\nBefore even reaching our print statement, we get redirected to `A.__init__`. Once in class A, there's nothing left to inherit, so we reach our first print statement `print('A')`. After that, we go back up the chain that got us to A. Next we hit `print('C')`, then finally we return to class D.\n\n```python\nclass D(B, C):\n    def __init__(self):\n        super().__init__()\n        print('D')\n```\n\nWe're still not done with `super().__init()`. We've resolved class C, now we're onto B.\n\n```python\nclass B(A):\n    def __init__(self):\n        super().__init__()\n        print('B')\n```\n\nSince B inherits from class A, don't we go back there again? Python keeps track of the order of inheritance, and disregards duplicate entries. We have already visited class A during our inheritance journey, so Python will skip going there again altogether. This is where Method Resolution Order comes in. `__mro__` is an attribute that can be called on a class (not an instance). Lets see what it returns:\n\n```python\nprint(D.__mro__)\n# (\u003cclass '__main__.D'\u003e, \u003cclass '__main__.B'\u003e, \u003cclass '__main__.C'\u003e, \u003cclass '__main__.A'\u003e, \u003cclass 'object'\u003e)\n```\n\nLook at that, the order of our print statements was `A, C, B, D`. Python begins with the class 'object', and builds on it with each level of inheritance. `__mro__` and the order of our print statements are the same but reversed.\n\nFinishing our example, we skip going to class A inherited by B, since we already visited A when it was inherited by C. We hit `print('B')`, then finally return to class D and hit `print('D')`.\n","slug":"multiple-inheritance-in-python-method-resolution-order-mro"}},"__N_SSG":true},"page":"/blog/[slug]","query":{"slug":"multiple-inheritance-in-python-method-resolution-order-mro"},"buildId":"AYjZekp1yXqaLiDqw1yUV","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-28654a8145d7603786fc.js"></script><script src="/_next/static/chunks/main-8ee885be9144a7f7660c.js" async=""></script><script src="/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" async=""></script><script src="/_next/static/chunks/framework.ae55bf7e6c20d673e3c3.js" async=""></script><script src="/_next/static/chunks/9901a4d1788027dab72cbf00d422303efc2f9507.cbdcd08772445030d7e0.js" async=""></script><script src="/_next/static/chunks/b616387b11ed82049e742f7310fd2d5dea442ccd.43128fe35357df1292f1.js" async=""></script><script src="/_next/static/chunks/pages/_app-070a0e11d78bef388f14.js" async=""></script><script src="/_next/static/chunks/f55490c27d84c973f151130575d86126183b0b6b.ebd6a76629b55763e6ec.js" async=""></script><script src="/_next/static/chunks/14e8b4443f853547963f3fff4f6d87edb6a6aabe.e2c835c2464e35d3e77a.js" async=""></script><script src="/_next/static/chunks/pages/blog/%5Bslug%5D-fd66ffec7f8f72b75d84.js" async=""></script><script src="/_next/static/AYjZekp1yXqaLiDqw1yUV/_buildManifest.js" async=""></script><script src="/_next/static/AYjZekp1yXqaLiDqw1yUV/_ssgManifest.js" async=""></script></body></html>